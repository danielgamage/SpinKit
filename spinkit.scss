/* -- Rotating -- */

@mixin spinkit-rotate($size, $color: #333, $duration: 1.2s){
  .spinner {
    width: $size;
    height: $size;
    background-color: $color;

    margin: 100px auto;
    animation: rotateplane $duration infinite ease-in-out;
  }

  @keyframes rotateplane {
    0%   { transform: perspective(120px) rotateX(0deg) rotateY(0deg) }
    50%  { transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg) }
    100% { transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg) }
  }
}

/* -- Double Bounce -- */

@mixin spinkit-doublebounce($size, $color: #333, $duration: 2.0s){
  .spinner {
    width: $size;
    height: $size;

    position: relative;
    margin: 100px auto;
  }

  .spinner:before, .spinner:after {
    content: '';
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: $color;
    opacity: 0.6;
    position: absolute;
    top: 0;
    left: 0;

    animation: bounce $duration infinite ease-in-out;
  }

  .spinner:after {
    animation-delay: -($duration / 2);
  }

  @keyframes bounce {
    0%, 100% { transform: scale(0.0) }
    50%      { transform: scale(1.0) }
  }
}

/* -- Wave -- */

@mixin spinkit-wave($size, $color: #333, $duration: 1.2s){
 .spinner {
    margin: 100px auto;
    width: $size;
    height: (3 * $size / 5);
    text-align: center;
    font-size: 10px;
  }

  .spinner > div {
    background-color: $color;
    height: 100%;
    width: ($size / 10);
    display: inline-block;
    
    animation: stretchdelay $duration infinite ease-in-out;
  }

  .spinner .rect2 {
    animation-delay: (-0.9 * $duration);
  }

  .spinner .rect3 {
    animation-delay: (-0.8 * $duration);
  }

  .spinner .rect4 {
    animation-delay: (-0.7 * $duration);
  }

  .spinner .rect5 {
    animation-delay: (-0.6 * $duration);
  }

  @keyframes stretchdelay {
    0%, 40%, 100% { transform: scaleY(0.4) }  
    20%           { transform: scaleY(1.0) }
  }
}

/* -- Wandering -- */

@mixin spinkit-wander($size, $color: #333, $duration: 1.8s){
  .spinner {
    margin: 100px auto;
    width: $size;
    height: $size;
    position: relative;
  }

  .cube1, .cube2 {
    background-color: $color;
    width: ($size / 3);
    height: ($size / 3);
    position: absolute;
    top: 0;
    left: 0;

    animation: cubemove $duration infinite ease-in-out;
  }

  .cube2 {
    animation-delay: ($duration / 2);
  }

  @keyframes cubemove {
    25%   { transform: translateX(($size * 5 / 4)) rotate(-90deg) scale(0.5) }
          /* Hack to make FF rotate in the right direction */
    50%   { transform: translateX(($size * 5 / 4)) translateY(($size * 5 / 4)) rotate(-179deg) }
    50.1% { transform: translateX(($size * 5 / 4)) translateY(($size * 5 / 4)) rotate(-180deg) }
    75%   { transform: translateX(0px) translateY(($size * 5 / 4)) rotate(-270deg) scale(0.5) }
    100%  { transform: rotate(-360deg) }
  }
}

/* -- Pulse -- */

@mixin spinkit-pulse($size, $color: #333, $duration: 1.0s){
  .spinner {
    width: $size;
    height: $size;
    margin: 100px auto;
    background-color: $color;

    border-radius: 100%;
    animation: scaleout $duration infinite ease-in-out;
  }

  @keyframes scaleout {
    0% {
      transform: scale(0.0)
    }
    100% {
      transform: scale(1.0);
      opacity: 0;
    }
  }
}

/* -- Chasing Dots -- */

@mixin spinkit-chase($size, $color: #333, $duration: 2.0s){
  .spinner {
    margin: 100px auto;
    width: $size;
    height: $size;
    position: relative;
    text-align: center;
    
    animation: rotate $duration infinite linear;
  }

  .dot1, .dot2 {
    width: 60%;
    height: 60%;
    display: inline-block;
    position: absolute;
    top: 0;
    background-color: $color;
    border-radius: 100%;
    
    animation: bounce $duration infinite ease-in-out;
  }

  .dot2 {
    top: auto;
    bottom: 0px;
    animation-delay: ($duration / 2);
  }

  @keyframes rotate { 
    100% { 
      transform: rotate(360deg) 
    }
  }

  @keyframes bounce {
    0%, 100% { transform: scale(0.0) }
    50%      { transform: scale(1.0) }
  }
}

/* -- Three Bounce -- */

@mixin spinkit-threebounce($size, $color: #333, $duration: 2.0s){
  .spinner,
  .spinner:before,
  .spinner:after {
    width: ($size / 3);
    height: ($size / 3);
    background-color: $color;

    border-radius: 100%;
    display: inline-block;
    animation: bouncedelay 1.4s infinite ease-in-out;
  }

  .spinner:before,
  .spinner:after {
    content: '';
  }

  .spinner:before {
    animation-delay: -($duration / 6);
  }

  .spinner {
    animation-delay: -($duration / 3);
  }

  @keyframes bouncedelay {
    0%, 80%, 100% { transform: scale(0.0) }
    40%           { transform: scale(1.0) }
  }
}

/* -- Circle -- */

@mixin spinkit-circle($size, $color: #333, $duration: 2.0s){
  .spinner {
    margin: 100px auto;
    width: $size;
    height: $size;
    position: relative;
  }

  .container1 > div, .container2 > div, .container3 > div {
    width: ($size / 3);
    height: ($size / 3);
    background-color: $color;
    
    border-radius: 100%;
    position: absolute;
    animation: bouncedelay 1.2s infinite ease-in-out;
  }

  .spinner .spinner-container {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .container2 {
    transform: rotateZ(45deg);
  }

  .container3 {
    transform: rotateZ(90deg);
  }

  .circle1 {
    top: 0;
    left: 0;
  }
  .circle2 {
    top: 0;
    right: 0;
  }
  .circle3 {
    right: 0;
    bottom: 0;
  }
  .circle4 {
    left: 0;
    bottom: 0;
  }

  .container2 .circle1 {
    animation-delay: -1.1s;
  }

  .container3 .circle1 {
    animation-delay: -1.0s;
  }

  .container1 .circle2 {
    animation-delay: -0.9s;
  }

  .container2 .circle2 {
    animation-delay: -0.8s;
  }

  .container3 .circle2 {
    animation-delay: -0.7s;
  }

  .container1 .circle3 {
    animation-delay: -0.6s;
  }

  .container2 .circle3 {
    animation-delay: -0.5s;
  }

  .container3 .circle3 {
    animation-delay: -0.4s;
  }

  .container1 .circle4 {
    animation-delay: -0.3s;
  }

  .container2 .circle4 {
    animation-delay: -0.2s;
  }

  .container3 .circle4 {
    animation-delay: -0.1s;
  }

  @keyframes bouncedelay {
    0%, 80%, 100% { transform: scale(0.0) }
    40%           { transform: scale(1.0) }
  }
}
